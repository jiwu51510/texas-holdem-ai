# 胜率-策略相关性验证实验报告

## 实验目的

验证：**当两个手牌具有相同的胜率特征时，它们的最优策略是否相同？**

如果胜率能完全决定策略，那么相同胜率的手牌应该有相同的策略。

## 实验方法

1. 使用CFR（反事实遗憾最小化）算法计算河牌阶段的纳什均衡策略
2. 计算每个手牌对对手范围的胜率
3. 找出胜率相近（差异<5%）的手牌对
4. 比较这些手牌对的策略差异

## 关键发现

### 场景1：干燥牌面 K♠T♦7♣4♥2♠

**发现胜率相同但策略完全不同的手牌对：**

| 手牌1 | 手牌2 | 胜率 | 策略1 | 策略2 | 策略差异 |
|-------|-------|------|-------|-------|----------|
| 77 (三条) | JJ (一对) | 50% vs 50% | bet 99.99% | check 99.84% | **99.83%** |
| AA (一对) | JJ (一对) | 50% vs 50% | bet 99.99% | check 99.84% | **99.83%** |
| KK (三条) | JJ (一对) | 50% vs 50% | bet 99.99% | check 99.84% | **99.83%** |

**分析：**
- 77在K-T-7牌面成三条，是坚果牌，应该价值下注
- JJ在K-T-7牌面只是一对，被很多牌打败，应该过牌控池
- 虽然两者对对手范围的胜率都是50%，但最优策略完全相反！

### 场景2：湿润牌面 J♠T♥9♦5♣2♠

**发现胜率相同但策略完全不同的手牌对：**

| 手牌1 | 手牌2 | 胜率 | 策略1 | 策略2 | 策略差异 |
|-------|-------|------|-------|-------|----------|
| 87s (顺子) | QQ (一对) | 50% vs 50% | bet 99.99% | check 99.53% | **99.52%** |
| AA (一对) | QQ (一对) | 50% vs 50% | bet 99.99% | check 99.53% | **99.52%** |
| KK (一对) | QQ (一对) | 50% vs 50% | bet 99.99% | check 99.53% | **99.52%** |

**分析：**
- 87s在J-T-9牌面成顺子，是坚果牌
- QQ在这个牌面只是超对，但被顺子和两对打败
- AA/KK虽然也是超对，但比QQ强，可以价值下注

### 场景3：同花牌面 A♥J♥8♥5♥2♦

**发现胜率相同但策略完全不同的手牌对：**

| 手牌1 | 手牌2 | 胜率 | 策略1 | 策略2 | 策略差异 |
|-------|-------|------|-------|-------|----------|
| AA (三条) | QdQc (一对) | 33.3% vs 33.3% | bet 99.99% | check 99.93% | **99.92%** |
| KdKc (一对) | QdQc (一对) | 33.3% vs 33.3% | bet 99.99% | check 99.93% | **99.92%** |
| KK♠ (一对) | QQ♠ (一对) | 0% vs 0% | bet 99.99% | check 99.84% | **99.83%** |

**分析：**
- 在四张同花牌面，没有♥的手牌胜率很低
- 但KK可以诈唬（代表同花），而QQ不适合诈唬
- 这体现了**阻断效应**的重要性

## 统计汇总

| 场景 | 胜率相近手牌对数 | 策略差异显著数 | 最优动作一致率 |
|------|-----------------|---------------|---------------|
| 干燥牌面 | 1431 | 984 | 79.87% |
| 湿润牌面 | 595 | 大量 | 60.67% |
| 同花牌面 | 53 | 大量 | 77.36% |

## 核心结论

### ⚠️ 胜率标量不足以决定最优策略

实验发现大量胜率相同但策略完全不同的手牌对，证明：

1. **牌型差异**：同样50%胜率，三条应该bet，一对应该check
2. **相对强度**：AA和QQ都是超对，但AA更强，策略不同
3. **阻断效应**：在同花牌面，有阻断牌的手牌可以诈唬
4. **范围结构**：极化范围和线性范围的策略不同

### 需要的额外信息

除了胜率标量，最优策略还需要考虑：

1. **绝对牌力**：手牌的牌型（三条 > 两对 > 一对）
2. **相对牌力**：在当前牌面的相对强度
3. **阻断效应**：是否阻断对手的强牌
4. **范围结构**：自己范围是极化还是线性
5. **位置**：OOP还是IP

## 实验数据文件

- 完整结果：`experiments/results/openspiel_validation.json`
- 本报告：`experiments/results/equity_strategy_validation_report.md`
