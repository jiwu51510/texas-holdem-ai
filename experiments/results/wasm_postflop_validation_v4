Debugger listening on ws://127.0.0.1:64826/6e7f0a72-b6b5-4662-8bce-c2f728a6a691
For help, see: https://nodejs.org/en/docs/inspector
Debugger attached.
================================================================================
使用 wasm-postflop + OMPEval 进行跨公共牌四维度胜率-策略验证实验 V3
================================================================================

核心改进: 使用 OMPEval (C++) 计算范围胜率，速度比 poker-odds-calc 快约60倍

核心问题: 在不同的（公共牌+固定手牌+随机范围）组合下：
  当手牌胜率和范围胜率都相近时，策略是否相同？

范围策略: 每100组实验随机生成一次OOP和IP范围

生成 10000 个（公共牌+固定手牌+随机范围）场景...
范围刷新间隔: 每 100 组实验
使用 OMPEval 计算胜率，预计总时间约 15-20 分钟

初始范围 - OOP: 116种手牌, IP: 98种手牌
进度: 1/10000 - 已用时: 0s - 预计剩余: 10s
using deprecated parameters for `initSync()`; pass a single object instead
  场景 2: 2c 8d As Qs 9s + 9c9d
    手牌: 胜率=90.909%, 平局率=0.000%
    范围: 胜率=47.350%, 平局率=2.239%
  场景 3: Js Td 6h 5s Qd + KhJd
    手牌: 胜率=69.325%, 平局率=0.204%
    范围: 胜率=44.203%, 平局率=1.539%
  场景 6: 6d 8c 4d Qs Ts + KhJh
    手牌: 胜率=26.587%, 平局率=0.595%
    范围: 胜率=48.526%, 平局率=1.477%
  场景 7: Ks Td Qc Tc 4s + 8d8h
    手牌: 胜率=53.216%, 平局率=0.195%
    范围: 胜率=41.221%, 平局率=4.923%
  场景 8: 5c Kc 4d 5d Ah + KsJh
    手牌: 胜率=67.762%, 平局率=9.856%
    范围: 胜率=45.493%, 平局率=5.944%
  场景 9: Th Jc Qd 3d Kc + QhQs
    手牌: 胜率=64.170%, 平局率=0.000%
    范围: 胜率=43.586%, 平局率=6.425%
  场景 10: 3c Kc 3h 2h 2d + 4c4d
    手牌: 胜率=62.879%, 平局率=0.189%
    范围: 胜率=36.551%, 平局率=25.574%
进度: 100/10000 - 已用时: 7s - 预计剩余: 720s

[范围刷新 #2] OOP: 95种手牌, IP: 40种手牌
进度: 200/10000 - 已用时: 11s - 预计剩余: 563s

[范围刷新 #3] OOP: 61种手牌, IP: 65种手牌
进度: 300/10000 - 已用时: 16s - 预计剩余: 523s

[范围刷新 #4] OOP: 105种手牌, IP: 59种手牌
进度: 400/10000 - 已用时: 22s - 预计剩余: 525s

[范围刷新 #5] OOP: 115种手牌, IP: 70种手牌
进度: 500/10000 - 已用时: 28s - 预计剩余: 524s

[范围刷新 #6] OOP: 72种手牌, IP: 54种手牌
进度: 600/10000 - 已用时: 32s - 预计剩余: 502s

[范围刷新 #7] OOP: 69种手牌, IP: 95种手牌
进度: 700/10000 - 已用时: 38s - 预计剩余: 500s

[范围刷新 #8] OOP: 89种手牌, IP: 91种手牌
进度: 800/10000 - 已用时: 44s - 预计剩余: 507s

[范围刷新 #9] OOP: 86种手牌, IP: 40种手牌
进度: 900/10000 - 已用时: 48s - 预计剩余: 483s

[范围刷新 #10] OOP: 108种手牌, IP: 43种手牌
进度: 1000/10000 - 已用时: 52s - 预计剩余: 466s

[范围刷新 #11] OOP: 79种手牌, IP: 92种手牌
进度: 1100/10000 - 已用时: 57s - 预计剩余: 458s

[范围刷新 #12] OOP: 85种手牌, IP: 83种手牌
进度: 1200/10000 - 已用时: 61s - 预计剩余: 447s

[范围刷新 #13] OOP: 116种手牌, IP: 89种手牌
进度: 1300/10000 - 已用时: 66s - 预计剩余: 445s

[范围刷新 #14] OOP: 92种手牌, IP: 84种手牌
进度: 1400/10000 - 已用时: 71s - 预计剩余: 438s

[范围刷新 #15] OOP: 106种手牌, IP: 97种手牌
进度: 1500/10000 - 已用时: 76s - 预计剩余: 432s

[范围刷新 #16] OOP: 95种手牌, IP: 72种手牌
进度: 1600/10000 - 已用时: 80s - 预计剩余: 422s

[范围刷新 #17] OOP: 87种手牌, IP: 97种手牌
进度: 1700/10000 - 已用时: 86s - 预计剩余: 418s

[范围刷新 #18] OOP: 68种手牌, IP: 90种手牌
进度: 1800/10000 - 已用时: 90s - 预计剩余: 409s

[范围刷新 #19] OOP: 87种手牌, IP: 78种手牌
进度: 1900/10000 - 已用时: 94s - 预计剩余: 400s

[范围刷新 #20] OOP: 61种手牌, IP: 67种手牌
进度: 2000/10000 - 已用时: 97s - 预计剩余: 389s

[范围刷新 #21] OOP: 67种手牌, IP: 92种手牌
进度: 2100/10000 - 已用时: 102s - 预计剩余: 382s

[范围刷新 #22] OOP: 111种手牌, IP: 71种手牌
进度: 2200/10000 - 已用时: 106s - 预计剩余: 377s

[范围刷新 #23] OOP: 72种手牌, IP: 93种手牌
进度: 2300/10000 - 已用时: 111s - 预计剩余: 371s

[范围刷新 #24] OOP: 88种手牌, IP: 71种手牌
进度: 2400/10000 - 已用时: 115s - 预计剩余: 363s

[范围刷新 #25] OOP: 113种手牌, IP: 62种手牌
进度: 2500/10000 - 已用时: 119s - 预计剩余: 357s

[范围刷新 #26] OOP: 114种手牌, IP: 74种手牌
进度: 2600/10000 - 已用时: 124s - 预计剩余: 353s

[范围刷新 #27] OOP: 77种手牌, IP: 62种手牌
进度: 2700/10000 - 已用时: 128s - 预计剩余: 345s

[范围刷新 #28] OOP: 118种手牌, IP: 63种手牌
进度: 2800/10000 - 已用时: 132s - 预计剩余: 341s

[范围刷新 #29] OOP: 115种手牌, IP: 79种手牌
进度: 2900/10000 - 已用时: 138s - 预计剩余: 337s

[范围刷新 #30] OOP: 77种手牌, IP: 54种手牌
进度: 3000/10000 - 已用时: 141s - 预计剩余: 329s

[范围刷新 #31] OOP: 92种手牌, IP: 85种手牌
进度: 3100/10000 - 已用时: 146s - 预计剩余: 324s

[范围刷新 #32] OOP: 88种手牌, IP: 83种手牌
进度: 3200/10000 - 已用时: 150s - 预计剩余: 318s

[范围刷新 #33] OOP: 62种手牌, IP: 62种手牌
进度: 3300/10000 - 已用时: 153s - 预计剩余: 311s

[范围刷新 #34] OOP: 96种手牌, IP: 78种手牌
进度: 3400/10000 - 已用时: 158s - 预计剩余: 306s

[范围刷新 #35] OOP: 106种手牌, IP: 53种手牌
进度: 3500/10000 - 已用时: 162s - 预计剩余: 300s

[范围刷新 #36] OOP: 107种手牌, IP: 64种手牌
进度: 3600/10000 - 已用时: 166s - 预计剩余: 296s

[范围刷新 #37] OOP: 96种手牌, IP: 43种手牌
进度: 3700/10000 - 已用时: 170s - 预计剩余: 290s

[范围刷新 #38] OOP: 115种手牌, IP: 84种手牌
进度: 3800/10000 - 已用时: 175s - 预计剩余: 286s

[范围刷新 #39] OOP: 96种手牌, IP: 55种手牌
进度: 3900/10000 - 已用时: 179s - 预计剩余: 280s

[范围刷新 #40] OOP: 88种手牌, IP: 60种手牌
进度: 4000/10000 - 已用时: 183s - 预计剩余: 275s

[范围刷新 #41] OOP: 62种手牌, IP: 86种手牌
进度: 4100/10000 - 已用时: 187s - 预计剩余: 269s

[范围刷新 #42] OOP: 78种手牌, IP: 64种手牌
进度: 4200/10000 - 已用时: 191s - 预计剩余: 264s

[范围刷新 #43] OOP: 84种手牌, IP: 67种手牌
进度: 4300/10000 - 已用时: 195s - 预计剩余: 258s

[范围刷新 #44] OOP: 63种手牌, IP: 53种手牌
进度: 4400/10000 - 已用时: 198s - 预计剩余: 252s

[范围刷新 #45] OOP: 115种手牌, IP: 62种手牌
进度: 4500/10000 - 已用时: 203s - 预计剩余: 248s

[范围刷新 #46] OOP: 117种手牌, IP: 42种手牌
进度: 4600/10000 - 已用时: 207s - 预计剩余: 243s

[范围刷新 #47] OOP: 67种手牌, IP: 41种手牌
进度: 4700/10000 - 已用时: 210s - 预计剩余: 237s

[范围刷新 #48] OOP: 97种手牌, IP: 56种手牌
进度: 4800/10000 - 已用时: 214s - 预计剩余: 232s

[范围刷新 #49] OOP: 99种手牌, IP: 63种手牌
进度: 4900/10000 - 已用时: 219s - 预计剩余: 227s

[范围刷新 #50] OOP: 64种手牌, IP: 69种手牌
进度: 5000/10000 - 已用时: 222s - 预计剩余: 222s

[范围刷新 #51] OOP: 116种手牌, IP: 52种手牌
进度: 5100/10000 - 已用时: 227s - 预计剩余: 218s

[范围刷新 #52] OOP: 71种手牌, IP: 55种手牌
进度: 5200/10000 - 已用时: 230s - 预计剩余: 213s

[范围刷新 #53] OOP: 107种手牌, IP: 67种手牌
进度: 5300/10000 - 已用时: 235s - 预计剩余: 208s

[范围刷新 #54] OOP: 78种手牌, IP: 77种手牌
进度: 5400/10000 - 已用时: 239s - 预计剩余: 204s

[范围刷新 #55] OOP: 68种手牌, IP: 52种手牌
进度: 5500/10000 - 已用时: 243s - 预计剩余: 199s

[范围刷新 #56] OOP: 81种手牌, IP: 55种手牌
进度: 5600/10000 - 已用时: 246s - 预计剩余: 194s

[范围刷新 #57] OOP: 118种手牌, IP: 80种手牌
进度: 5700/10000 - 已用时: 252s - 预计剩余: 190s

[范围刷新 #58] OOP: 84种手牌, IP: 63种手牌
进度: 5800/10000 - 已用时: 256s - 预计剩余: 185s

[范围刷新 #59] OOP: 113种手牌, IP: 50种手牌
进度: 5900/10000 - 已用时: 260s - 预计剩余: 181s

[范围刷新 #60] OOP: 87种手牌, IP: 83种手牌
进度: 6000/10000 - 已用时: 265s - 预计剩余: 177s

[范围刷新 #61] OOP: 116种手牌, IP: 42种手牌
进度: 6100/10000 - 已用时: 269s - 预计剩余: 172s

[范围刷新 #62] OOP: 70种手牌, IP: 94种手牌
进度: 6200/10000 - 已用时: 274s - 预计剩余: 168s

[范围刷新 #63] OOP: 117种手牌, IP: 89种手牌
进度: 6300/10000 - 已用时: 279s - 预计剩余: 164s

[范围刷新 #64] OOP: 118种手牌, IP: 71种手牌
进度: 6400/10000 - 已用时: 284s - 预计剩余: 160s

[范围刷新 #65] OOP: 72种手牌, IP: 78种手牌
进度: 6500/10000 - 已用时: 288s - 预计剩余: 155s

[范围刷新 #66] OOP: 95种手牌, IP: 90种手牌
进度: 6600/10000 - 已用时: 292s - 预计剩余: 151s

[范围刷新 #67] OOP: 105种手牌, IP: 56种手牌
进度: 6700/10000 - 已用时: 297s - 预计剩余: 146s

[范围刷新 #68] OOP: 110种手牌, IP: 92种手牌
进度: 6800/10000 - 已用时: 302s - 预计剩余: 142s

[范围刷新 #69] OOP: 60种手牌, IP: 93种手牌
进度: 6900/10000 - 已用时: 306s - 预计剩余: 137s

[范围刷新 #70] OOP: 117种手牌, IP: 85种手牌
进度: 7000/10000 - 已用时: 311s - 预计剩余: 133s

[范围刷新 #71] OOP: 84种手牌, IP: 81种手牌
进度: 7100/10000 - 已用时: 315s - 预计剩余: 129s

[范围刷新 #72] OOP: 86种手牌, IP: 59种手牌
进度: 7200/10000 - 已用时: 319s - 预计剩余: 124s

[范围刷新 #73] OOP: 71种手牌, IP: 68种手牌
进度: 7300/10000 - 已用时: 322s - 预计剩余: 119s

[范围刷新 #74] OOP: 85种手牌, IP: 87种手牌
进度: 7400/10000 - 已用时: 326s - 预计剩余: 115s

[范围刷新 #75] OOP: 68种手牌, IP: 70种手牌
进度: 7500/10000 - 已用时: 330s - 预计剩余: 110s

[范围刷新 #76] OOP: 74种手牌, IP: 66种手牌
进度: 7600/10000 - 已用时: 334s - 预计剩余: 105s

[范围刷新 #77] OOP: 60种手牌, IP: 79种手牌
进度: 7700/10000 - 已用时: 337s - 预计剩余: 101s

[范围刷新 #78] OOP: 86种手牌, IP: 93种手牌
进度: 7800/10000 - 已用时: 342s - 预计剩余: 96s

[范围刷新 #79] OOP: 96种手牌, IP: 60种手牌
进度: 7900/10000 - 已用时: 346s - 预计剩余: 92s

[范围刷新 #80] OOP: 103种手牌, IP: 74种手牌
进度: 8000/10000 - 已用时: 350s - 预计剩余: 88s

[范围刷新 #81] OOP: 103种手牌, IP: 56种手牌
进度: 8100/10000 - 已用时: 355s - 预计剩余: 83s

[范围刷新 #82] OOP: 99种手牌, IP: 92种手牌
进度: 8200/10000 - 已用时: 359s - 预计剩余: 79s

[范围刷新 #83] OOP: 63种手牌, IP: 52种手牌
进度: 8300/10000 - 已用时: 363s - 预计剩余: 74s

[范围刷新 #84] OOP: 95种手牌, IP: 52种手牌
进度: 8400/10000 - 已用时: 366s - 预计剩余: 70s

[范围刷新 #85] OOP: 96种手牌, IP: 78种手牌
进度: 8500/10000 - 已用时: 371s - 预计剩余: 66s

[范围刷新 #86] OOP: 98种手牌, IP: 41种手牌
进度: 8600/10000 - 已用时: 375s - 预计剩余: 61s

[范围刷新 #87] OOP: 102种手牌, IP: 96种手牌
进度: 8700/10000 - 已用时: 380s - 预计剩余: 57s

[范围刷新 #88] OOP: 72种手牌, IP: 72种手牌
进度: 8800/10000 - 已用时: 384s - 预计剩余: 52s

[范围刷新 #89] OOP: 65种手牌, IP: 75种手牌
进度: 8900/10000 - 已用时: 388s - 预计剩余: 48s

[范围刷新 #90] OOP: 60种手牌, IP: 48种手牌
进度: 9000/10000 - 已用时: 390s - 预计剩余: 43s

[范围刷新 #91] OOP: 103种手牌, IP: 74种手牌
进度: 9100/10000 - 已用时: 395s - 预计剩余: 39s

[范围刷新 #92] OOP: 105种手牌, IP: 63种手牌
进度: 9200/10000 - 已用时: 400s - 预计剩余: 35s

[范围刷新 #93] OOP: 107种手牌, IP: 73种手牌
进度: 9300/10000 - 已用时: 404s - 预计剩余: 30s

[范围刷新 #94] OOP: 92种手牌, IP: 45种手牌
进度: 9400/10000 - 已用时: 408s - 预计剩余: 26s

[范围刷新 #95] OOP: 96种手牌, IP: 97种手牌
进度: 9500/10000 - 已用时: 413s - 预计剩余: 22s

[范围刷新 #96] OOP: 75种手牌, IP: 47种手牌
进度: 9600/10000 - 已用时: 417s - 预计剩余: 17s

[范围刷新 #97] OOP: 87种手牌, IP: 92种手牌
进度: 9700/10000 - 已用时: 421s - 预计剩余: 13s

[范围刷新 #98] OOP: 63种手牌, IP: 64种手牌
进度: 9800/10000 - 已用时: 424s - 预计剩余: 9s

[范围刷新 #99] OOP: 96种手牌, IP: 84种手牌
进度: 9900/10000 - 已用时: 428s - 预计剩余: 4s

[范围刷新 #100] OOP: 68种手牌, IP: 87种手牌
进度: 10000/10000 - 已用时: 433s - 预计剩余: 0s


成功生成 6352 个场景，总用时: 432.6s
使用了 100 组不同的范围

================================================================================
分析结果：寻找四维度胜率相近的场景对（阈值: 0.05%）
条件：手牌胜率、手牌平局率、范围胜率、范围平局率 都相差不超过0.05%
使用了 100 组不同的随机范围
================================================================================

找到 5 对四维度胜率相近的场景
其中策略差异显著(>15%)的: 1 对

【策略差异显著的反例】

──────────────────────────────────────────────────────────────────────
【场景1】 Kd Td 2s 6c 4h + 2c2h
  手牌: 胜率=98.182%, 平局率=0.000%
  范围: 胜率=49.512%, 平局率=0.716%
  策略: {"Check":1,"Bet":0}
【场景2】 9s 8h 4s 2c 6h + 9d9h
  手牌: 胜率=98.157%, 平局率=0.000%
  范围: 胜率=49.476%, 平局率=0.759%
  策略: {"Check":0.015998,"Bet":0.984002}
【对比】 策略差异: 98.4%

结果已保存到: experiments/results/wasm_postflop_validation_v3.json
报告已保存到: experiments/results/wasm_postflop_validation_v3_report.md
Waiting for the debugger to disconnect...
